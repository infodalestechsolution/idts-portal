<!DOCTYPE html>
<html lang="en">

<head>
	<title>Blogs | System User in AEM</title>
	<link rel="icon" type="image/x-icon" href="/images/favicon.ico">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="System users are designated accounts created to handle system-level tasks or to provide specific permissions to certain processes or services within the AEM platform. These accounts are not intended for human use, but are linked to automated operations, integrations, or system functions within AEM. ">
  	<meta name="keywords" content="infodales, system user, ammandment mapper, apache sling service user mapper service ammendment, service user">
	<meta property="og:locale" content="en_US" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Blogs | System User in AEM" />
    <meta property="og:description" content=" System users are designated accounts created to handle system-level tasks or to provide specific permissions to certain processes or services within the AEM platform. These accounts are not intended for human use, but are linked to automated operations, integrations, or system functions within AEM." />
    <meta property="og:url" content="https://infodales.com/spa-getting-started.html" />
    <meta property="og:site_name" content="Blogs | System User in AEM" />
	<link rel="stylesheet" href="/style.css">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;300;400;600;700&display=swap"
		rel="stylesheet">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

</head>

<body>

	<!-- Header -->
	<section class="sub-header"
		style="background-image: linear-gradient(rgba(4, 9, 30, 0.5), rgba(4, 9, 30, 0.5)), url('/images/Cover\ Sites.jpg');">
		<nav>
			<a href="/index.html"><img src="/images/infodales/Info Dales Main Logo 03.webp" alt="logo"></a>
			<div class="nav-links" id="navLinks">
				<i class="fa fa-times" onclick="hideMenu()"></i>
				<ul>
					<li><a href="/index.html">HOME</a></li>
					<li><a href="/about.html">ABOUT</a></li>
					<li><a href="/services.html">SERVICES</a></li>
					<li><a href="/blogs.html">BLOGS</a></li>
					<li><a href="/career.html">CAREER</a></li>
					<li><a href="/contact.html">CONTACT</a></li>
					<ul>
			</div>
			<i class="fa fa-bars" onclick="showMenu()"></i>
		</nav>
		
	</section>
	<!--  Blog Page Content --->
	<section class="blog-content">
		<div>
			<div class="blog spa-blog">
				
				<p style="color: rgb(133, 133, 133); padding: 0 0 10px 0;"><a href="/blogs.html" style="text-decoration: none; cursor: pointer;">Blogs</a> <span> > </span>System User in AEM</p>

				<p class="sitesTag" style="margin-top: 7px; margin-bottom: 7px; font-size: 13px; border-radius: 20px; 
				width: fit-content; padding: 3px 15px;">AEM Sites</p>
				<h1 class="title">System User in AEM</h1>
      				<span class="author">Infodales Tech Solutions</span> |
      				<span class="date">April 2, 2023</span>
    			
					<div class="share-icons">
					<a href="https://www.linkedin.com/company/infodales-tech-solution/" target="_blank" class="linkedin-icon"><i class="fa fa-linkedin"></i></a>
                    <a href="mailto:info@infodales.com" target="_blank" class="email-icon"><i class="fa fa-envelope"></i></a>
					</div>

				<hr style="margin: 20px 0 10px 0;">
                <div class="blog-items">

                
                <p>Hello, hope you are all doing well. Welcome to another blog.</p>
                <h3 style="text-align: left; margin: 0px 0">System User in AEM</h3>
                <p>
                    System users are designated accounts created to handle system-level tasks or to provide specific permissions to certain processes or services within the AEM platform. These accounts are not intended for human use, but are linked to automated operations, integrations, or system functions within AEM.                  
                </p>
                <h3 style="text-align: left; margin: 0px 0">Creation of System User</h3>

                <p>
                    In order to create a system user we need to follow the following steps.   
                </p>
                <ul class="ff_ul">
                    <li>
                        <p>
                            You ned to go the <a href="http://localhost:4502/crx/explorer/index.jsp">explorer console</a> of aem and click on user administration.
                        </p>
                        <div class="image-container">
                            <image class="center" style="width: 100%;" src="../images/user/explorerconsole.webp"/>
                        </div>
                    </li>
                    <li>
                        <p>
                            You need to simply create a new system user. Here we have created aem_bot user.
                        </p>
                        <div class="image-container">
                            <image class="center" style="width: 100%;" src="../images/user/createsystemuser.webp "/>
                        </div>
                    </li>
                    <li>
                        <p>
                            Now having created a system user, we need to add permissions to it. In order to do so go to <a>useradmin console</a> and search for aem_bot and add the required permissions.
                        </p>
                        <div class="image-container">
                            <image class="center" style="width: 100%;" src="../images/user/permissionstosystemuser.webp"/>
                        </div>
                    </li>
                    <li>
                        <p>
                            This user is stored in the system folder within home folder in crx/de.
                        </p>
                        <div class="image-container">
                            <image class="center smallscreenfull" style="width: 30%;" src="../images/user/homefolder.webp"/>
                        </div>
                    </li>
                    <li>
                        <p>
                            System users can also be created using configurations. In <a href="http://localhost:4502/system/console/configMgr">configMgr</a>, search for an ACS configuration factory called Ensure Service User. This is a configuration factory that actually creates the system user and adds permissions to it. Here we have created a system user called aem-service-bot within aembots folder. Also we have added permisions to it.
                        </p>
                        <div class="image-container">
                            <image class="center" style="width: 100%;" src="../images/user/ensureserviceuser.webp"/>
                        </div>
                        <br/>
                        <div class="image-container">
                            <image class="center" style="width: 100%;" src="../images/user/permissionsconfig.webp"/>
                        </div>
                        <br/>
                        
                    </li>
                    <li>
                        <p>
                            <b>type=allow</b> says that the permissions are being granted (deny could be used) and <b>privileges=jcr:read,jcr:all,rep:write</b> defines for what the permissions are actually granted.
                        </p>
                    </li>
                    <li>
                        <p>
                            <b>jcr:read</b> grants reading permision.
                        </p>
                    </li>
                    <li>
                        <p>
                            <b>jcr:all</b> grants all the permissions like read, write, delete, modify etc.
                        </p>
                    </li>
                    <li>
                        <p>
                            <b>rep:write</b> grants the permission of write.
                        </p>
                    </li>
                    <li>
                        <p>
                            <b>path=/content/local-project</b> being the repository location where the granted permissions are exercised.
                        </p>
                    </li>
                    <li>
                        <p>There are some more commonly used permissions like <b>jcr:modifyProperties, jcr:addChildNodes, jcr:removeChildNodes, rep:readProperties, rep:readNodes and crx:replicate</b> with selfexplainatory names.</p>  
                    </li>
                    <li>
                        <p>
                            This created system user can be loacted in crx/de under home folder.
                        </p>
                        <div class="image-container">
                            <image class="center smallscreenfull" style="width: 50%;" src="../images/user/configurationstore.webp"/>
                        </div>
                        
                    </li>

                </ul>

                <h3 style="text-align: left; margin: 0px 0">Configuring System User</h3>
                <p>
                    In order to configure the system user we need to follow the following steps.
                </p>
                <ul class="ff_ul">
                    <li>
                        <p>Now we need to first get the bundle id so that we can bind the created system user.</p>
                        <div class="image-container">
                            <image class="center smallscreenfull" style="width: 100%;" src="../images/user/bundleid.webp"/>
                        </div>
                    </li>
                    <li>
                        <p>Search for <a href="http://localhost:4502/system/console/configMgr">Apache Sling Service User Mapper Service Ammendment</a> which is a factory configuration. Here we need to add the system configuration.</p>
                    </li>
                    <li>
                        <p>
                            Now we need to add the bundle id: reference name = name of the system user.
                        </p>
                        <div class="image-container">
                            <image class="center smallscreenfull" style="width: 100%;" src="../images/user/botammendment.webp"/>
                        </div>
                    </li>
                </ul>
                <h3 style="text-align: left; margin: 0px 0">Consuming System User</h3>
                <p>
                    Now the system user is ready to be consumed. We need to create a utility class wherein there exists a map. This map consumes our reference name with whihch the system user is binds with the bundle id. It indeed returns a resource resolver
                </p>
                <div>
                    <pre style="width: 100%; height:100%">
                        <code class="center code-flow">
                            package com.infodales.aem.core.util;

                            import org.apache.sling.api.resource.LoginException;
                            import org.apache.sling.api.resource.ResourceResolver;
                            import org.apache.sling.api.resource.ResourceResolverFactory;
                            
                            import java.util.HashMap;
                            import java.util.Map;
                            
                            public final class SubserviceConsumption {
                                private SubserviceConsumption() {
                                }
                                public ResourceResolver subserviceResolver(ResourceResolverFactory factory) throws LoginException {
                                    final Map<String, Object> parameters = new HashMap<String, Object>();
                                    parameters.put(factory.SUBSERVICE, "bot");
                                    return factory.getServiceResourceResolver(parameters);
                                }
                            }
                            
                        </code>
                    </pre>
                </div>
                <h3 style="text-align: left; margin: 0px 0">Conclusion</h3>
                <p>
                    Here we have sucessfully created a system user, provided permissions to it via explorer and ensure user configurations and have configured it. We have also consumed the system user via a parameter map that returns a resource resolver which can be used to access a recource in the provided path and perform permitted operations on it.
                </p>
                
                <p>
                    I hope you enjoyed the learing and have found the blog informative. 
                </p>
                </div>
                <hr style="margin-top: 30px;"/>
                <div class="author-details">
                    <div id="like-icon" class="like-icon">
                       <span id="like-count" class="like-count">0</span>
                       <span id="like-btn" class="like-btn">
                       <img src="/images/clap.webp" alt="Like">
                       </span>
                    </div>
                    <div>
                       <span class="author-name">Shruti Meshram | </span>
                       <span class="author-designation">AEM Developer</span>
                    </div>
                 </div>
			</div>
		</div>
	</section>

<div class="social-icons">
         
        <a href="https://www.linkedin.com/company/infodales-tech-solution/" class="linkedin"><img src="/images/linkedin.webp" alt="LinkedIn"></a>
        <a href="mailto:info@infodales.com" class="email"><img src="/images/email.webp" alt="Email"></a>
    </div>

	<!--  Footer --->
	<div class="copyright-area">
		<div class="footer">
			<div class="row" style="margin-top: 0px;">
				<div class="col-xl-4 col-lg-4 text-center text-lg-left">
					<div class="copyright-text">
						<p>Copyright &copy; 2024, All Right Reserved <a href="/index.html">Infodales Tech
								Solution</a></p>
					</div>
				</div>
				
				<div class="col-xl-4 col-lg-4 d-none d-lg-block text-right">
					<div class="footer-menu" style="margin-top:10px;">
						<ul>
							<li><a href="/index.html">Home</a></li>
							<li><a href="/about.html">About</a></li>
							<li><a href="/contact.html">Contact</a></li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</div>


	<!--- Java Script-->
	<script>
		var navLinks = document.getElementById("navLinks");

		function showMenu() {
			navLinks.style.right = "0";
		}

		function hideMenu() {
			navLinks.style.right = "-200px";
		}

		document.addEventListener("DOMContentLoaded", () => {
    const likeBtn = document.getElementById('like-btn');
    const likeCount = document.getElementById('like-count');

    let count = parseInt(localStorage.getItem('clapCount')) || 0;
    likeCount.textContent = count;

    likeBtn.addEventListener('click', () => {
        count++;
        likeCount.textContent = count;
        localStorage.setItem('clapCount', count);

        const likeAnimation = document.createElement('div');
        likeAnimation.classList.add('like-animation');
        likeAnimation.innerHTML = 'ðŸŽ‰';
        document.getElementById('like-icon').appendChild(likeAnimation);
        likeAnimation.addEventListener('animationend', () => {
            likeAnimation.remove();
        });
    });
});



	</script>

</body>

</html>