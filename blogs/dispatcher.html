<!DOCTYPE html>
<html lang="en">

<head>
	<title>Blogs | Dispatcher Setup and Configurations</title>
	<link rel="icon" type="image/x-icon" href="/images/favicon.ico">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
   <meta name="description" content="Welcome to the blog, here we will understand setting up and configuration of dispatcher">
    <meta name="keywords" content="Infodales, Dispatcher">
    <meta property="og:locale" content="en_US" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Blogs | Setting up and Configuration of Dispatcher" />
    <meta property="og:description" content="Welcome to the blog, here we will understand setting up and configuration of dispatcher" />
    <meta property="og:url" content="https://infodales.com/spa-getting-started.html" />
    <meta property="og:site_name" content="Blogs | Setting up and Configuration of Dispatcher" />
	<link rel="stylesheet" href="/style.css">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;300;400;600;700&display=swap"
		rel="stylesheet">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous"> -->

</head>

<body>

	<!-- Header -->
	<section class="sub-header"
		style="background-image: linear-gradient(rgba(4, 9, 30, 0.5), rgba(4, 9, 30, 0.5)), url('/images/Cover\ Dispatcher.jpg');">
		<nav>
			<a href="/index.html"><img src="/images/infodales/Info Dales Main Logo 03.webp" alt="logo"></a>
			<div class="nav-links" id="navLinks">
				<i class="fa fa-times" onclick="hideMenu()"></i>
				<ul>
					<li><a href="/index.html">HOME</a></li>
					<li><a href="/about.html">ABOUT</a></li>
					<li><a href="/services.html">SERVICES</a></li>
					<li><a href="/blog.html">BLOGS</a></li>
					<li><a href="/career.html">CAREER</a></li>
					<li><a href="/contact.html">CONTACT</a></li>
					<ul>
			</div>
			<i class="fa fa-bars" onclick="showMenu()"></i>
		</nav>
		<!-- <h1>Blogs</h1> -->
	</section>
	<!--  Blog Page Content --->
	<section class="blog-content">
		<div>
			<div class="blog">
            
            <p style="color: rgb(133, 133, 133); padding: 0 0 10px 0;"><a href="/blog.html" style="text-decoration: none; cursor: pointer;">Blogs</a> <span> > </span>Dispatcher Setup and Configurations</p>

            <p class="dispatcherTag" style="margin-top: 7px; margin-bottom: 7px; font-size: 13px; border-radius: 20px; 
               width: fit-content; padding: 3px 15px;">Dispatcher</p>
            <h1 class="title">Dispatcher Setup and Configurations</h1>
            <span class="author">Infodales Tech Solutions</span> |
            <span class="date">April 25, 2023</span>
            <div class="share-icons">
               <a href="https://www.linkedin.com/in/infodales-tech-solutions-928b21284/" target="_blank" class="linkedin-icon"><i class="fa fa-linkedin"></i></a>
               <a href="mailto:info@infodales.com" target="_blank" class="email-icon"><i class="fa fa-envelope"></i></a>
            </div>
				<hr style="margin: 20px 0 10px 0;">            
            <!-- <div class="image-container">
               <img src="images/cover.webp" alt="Image Description">
            </div> -->
            <div class="blog-items">
               <div >
                  <div class="content">
                     <div >
                        <!-- <h4 id="list-item-1">1.	Introduction</h4> -->
                        <div>
                              <p style="padding-top: 1px;
                              padding-bottom: 2px;">I hope you all are doing well. Let's begin our learning with Dispatcher in AEM. </p><br>
                        </div>
                        <h3 style="text-align: left;margin-bottom: 5px;margin-top: -10;margin-top: -10;margin-top: -10px;">1. Introduction</h3>
                        
                        <p class="content-text" style="color: gray; padding-top: 0px;
                        padding-right: 0px;
                        padding-bottom: 3px;
                        padding-left: 0px; padding-top: 10px;">Dispatcher is an Apache HTTP Web Server. It is used for exercising the functionalities such as caching, load balancing providing and limiting access of domains and security.</p>
                        <p class="content-text" style="color: gray;padding-top: 0px;
                        padding-right: 0px;
                        padding-bottom: 3px;
                        padding-left: 0px;">AEM publish instance cannot communicate with the dispatcher (web server) and so AEM module helps in the task. It conveys the requests of the dispatcher to the Publish instance and provides the response from the publish instance to the dispatcher back again.</p>
                        <p class="content-text" style="color: gray;padding-top: 0px;
                        padding-right: 0px;
                        padding-bottom: 3px;
                        padding-left: 0px;">First any request coming from the client goes to Content Delivery Network (CDN), if the response is available, is returned else it goes to Dispatcher where again the response availability is checked in cache. If found it is returned else it goes to the publish instance to fetch the response of the request and travels back the same route to serve the response to the client.</p>
                        <p class="content-text" style="color: gray;padding-top: 0px;
                        padding-right: 0px;
                        padding-bottom: 3px;
                        padding-left: 0px;">Here we are setting up Apache 2.2 – 32 bit and Dispatcher 4.2.1.</p>
                        
                        <!-- <h4 id="list-item-2">2.	Setup For Dispatcher</h4> -->
                        <h3 style="text-align: left;">2. Setup For Dispatcher</h3>
                        
                        <ul style="margin-left: auto; width: 93%;">
                           <li class="content-text">Download the provided version.</li>
                           <li class="content-text">After download, open file to install it. You will find the following dialog box, click on next.</li>
                           <br>
                           <img src="/images/dispatcher/image1.webp" class="image1" alt="Dispatcher Setup">  <br>
                           <br>
                           <li class="content-text">Accept the license and click on next and then you will find a Server Information dialog box. Add your respective network domain, server name and a working email address so that you get all the server related problems via email. Select the default port as 80 or else you can change it to 8000 for current user.  Here the port is set to 80.</li>
                           <br>
                           <div class="center"><img src="/images/dispatcher/image2.webp" class="image2 image-style" alt="Dispatcher Setup"></div>
                           <br>
                           <div class="center">
                              <img src="/images/dispatcher/image3.webp" class="image-style"  alt="Dispatcher Setup">
                           </div>
                           <br>
                           <li class="content-text">Click on Next, select Typical and then click on Next again and you will find the default location of installed Apache Server in your system. You can either change it or keep it same.</li>
                           <br>
                           <div class="center">
                              <img src="/images/dispatcher/image4.webp" class="image-style" alt="Dispatcher Setup">
                           </div>
                           <br>
                           <div class="center">
                              <img src="/images/dispatcher/image5.webp" class="image-style" alt="Dispatcher Setup">
                           </div>
                           <br>
                           <li class="content-text">Then click on Next, the setup is almost completed, click on install. Installation takes about 5 minutes.</li>
                           <li class="content-text">After installation is complete click Finish.</li>
                           <br>
                           <div class="center">
                              <img src="/images/dispatcher/image6.webp" class="image-style" alt="Dispatcher Setup">
                           </div>
                           <br>
                           <li class="content-text">Now after completion of installation process we need to check whether everything is properly installed or not. Hit the URL <u>http://localhost</u> to find</li>
                           <br>
                           <div>
                              <img src="/images/dispatcher/image7.webp" class="image1" alt="Dispatcher Setup">
                           </div>
                           <br>
                           <li class="content-text">Now your dispatcher is installed and is ready to get configured. For configuration purpose you will be requiring disp_apache2.2.dll, dispatcher.any and httpd.conf files. It is recommended to get them from your workspace.</li>
                           <br>
                           <img src="/images/dispatcher/image8.webp" class="image1" alt="Dispatcher Setup">
                           <br>
                           <br>
                           <li class="content-text">Open the Apache and find modules folder. In modules folder paste disp_apache2.2.dll file. Then in conf folder paste dispatcher.any and httpd.conf files.</li>
                           <br>
                           <div>
                              <img src="/images/dispatcher/Dispatcher Image.webp" class="image1" alt="Dispatcher Setup">
                           </div>
                           <br>
                           <li class="content-text">httpd.conf file is the starting point of dispatcher so here you need to add LoadModule which is a DSO (Dynamically Shared Object). You need to provide entry of disp_apache2.2.dll file.</li>
                           <br>
                           <img src="/images/dispatcher/image10.webp" class="image2" alt="Dispatcher Setup">
                           <br>
                           <li class="content-text">In httpd.conf file you find your server root and administrator's email id which you added in server information dialog box.</li>
                           <li class="content-text">In IfModule provide location of dispatcher.any and also set the log level. In Directory add the handler and your httpd.conf file is ready.</li>
                           <br>
                           <img src="/images/dispatcher/image11.webp" class="image2" alt="Dispatcher Setup">
                           <br>
                           <br>
                           <img src="/images/dispatcher/image12.webp" class="image2" alt="Dispatcher Setup">
                           <br>
                        </ul>
                        <br>
                        <!-- <h4 id="list-item-3">3.	Setup For Publish Instance</h4> -->
                        <h3 style="text-align: left;">3. Setup For Publish Instance</h3>
                        
                        <ul style="margin-left: auto; width: 93%;">
                           <li class="content-text">In order to setup Publish instance copy the jar and license of AEM to a new folder and rename the jar to publish instance jar with required port number. By default it is 4503 but here we have set it to 4506.</li>
                           <br>
                           <div>
                              <img src="/images/dispatcher/img8.webp" class="image1" alt="Dispatcher Setup">
                           </div>
                              <br>
                           <li class="content-text">Then open command prompt and go to the directory where you have your jar and type java -jar cq-publish-4506.jar . This will open your publish instance with following run modes.</li>
                           <br>
                           <div>
                              <img src="/images/dispatcher/image14.webp" class="image1" alt="Publish Instance Setup">
                           </div>
                           <br>
                           <li class="content-text">Now we need to configure the port of publish instance in our author so go to author instance, then go to welcome page of author instance , find Replication options and select Agents on Author. Select Default Agent (publish) and edit.</li>
                           <li class="content-text">In Transport tab you will find the url, change the port to 4506.</li>
                           <br>
                           <div>
                              <img src="/images/dispatcher/image15.webp" class="image1" alt="Publish Instance Setup">
                           </div>
                           <br>
                           <li class="content-text">Now in publish instance, upload your project, acs commons and service pack and replicate them all from package manager console.</li>
                           <li class="content-text">Service pack may not get replicated from Package Manager Console properly. If so, go to Activate Tree and provide the path of your service pack in crx console and uncheck On Modify. First dry run and see if your service pack is ready to replicate and if yes, then click on Activate.</li>
                           <br>
                           <div>
                              <img src="/images/dispatcher/image16.webp" class="image1" alt="Publish Instance Setup">
                              </div>
                              <br>
                           <li class="content-text">Go to Felix console of publish instance and check whether all your bundles are Active or not once and if no then resolve the remaining dependencies which completes your publish instance setup.</li>
                        </ul>
                        
                        <!-- <h4 id="list-item-4">4.	dispatcher.any file</h4> -->
                        <h3 style="text-align: left;">4. dispatcher.any file</h3>
                        
                        <ul style="margin-left: auto; width: 93%;">
                           <li class="content-text">dispatcher.any file determines complete behavior of your dispatcher.</li>
                           <li class="content-text">It has project specific <b>/farms files </b> (you can have single /farms file too, there is no restriction) where each farm file configures a set of load balanced renders.</li>
                           <li class="content-text">Set your publish instance as a render via setting its port and IP address.</li>
                           <br>
                           <div class="center">
                              <img src="/images/dispatcher/image17.webp" class="image2" alt="dispatcher.any">
                           </div>
                           <br>
                           <li class="content-text">In <b>/virtualhosts</b> file we configure domains which are allowed in headers. Set your preferred domains here.</li>
                           <li class="content-text"><b>/filter</b> section sets the paths of requests that you want your dispatcher to handle. You can enable open consoles (crx content repository, OSGI console, servlet engines), non-public content directories (/bin, /content, /home and so on) and can also deny content grabbing.</li>
                           <li class="content-text"><b>/cache</b> section consists of a docroot file wherein the dispatcher will store files relative to this directory, decline the subsequent requests and allow the web server to deliver them as regular static content.</li>
                           <li class="content-text"><b>/statfileslevel</b> indicates the hierarchy up to which a .stat file gets created that checks the time of cache in the dispatcher and that of replication in publish environment. If time of modification in publish environment is greater than that of the cache then it means there is an updated version available and this will delete the previously generated cache and allow the entry of new cache in the provided level.</li>
                           <li>In <b>/rules</b> section of <b>/cache</b> we have to specify how caching should happen according to the url generated. You can have your own rule sets.</li>
                           <br>
                           <div class="center">
                              <img src="/images/dispatcher/image18.webp" class="image2" alt="dispatcher.any">
                           </div>
                           <br>
                           <li class="content-text">Within the <b>cache</b> section we have <b>/invalidate</b> wherein we define which request needs to be available for dispatcher flushing after activation. You can set the dispatcher flush agent on both Author as well as on Publish but prefer setting it on publish because author is a development environment and modifications are tend to happen whereas publish is a read-only environment where unusual modifications happen only via publishing the pages by author instance.</li>
                           <li class="content-text">Set the clients which can activate the content in <b>/allowedClients</b> section by providing the IP address and setting the /type “allow”.</li>
                           <li class="content-text"><b>/ignoreUrlParams</b> section allows you to ignore query parameters passed in the url while caching the response.</li>
                           <li class="content-text">Finally you can enable <b>/auth_checker</b> to check the whether the cached page which is requested for delivery matches its header with that of the one which is allowed via /filters by internally passing ‘?uri=’ parameter. If the status code becomes 200 then only the page is sent out for the delivery.</li>
                        </ul>
                        
                        <!-- <h4 id="list-item-5">5.	Publishing The Content And Checking On Dispatcher</h4> -->
                        <h3 style="text-align: left;">5. Publishing The Content And Checking On Dispatcher</h3>
                        <ul style="margin-left: auto; width: 93%;">
                           <li class="content-text">Simply go to your author instance and select the page that you want to publish and hit Quick Publish.</li>
                           <li class="content-text">Then go to your publish instance and check whether your published page is visible or not.</li>
                           <li class="content-text">Go to your dispatcher and type <u>http://localhost/</u> complete path of your page and done.</li>
                        </ul>
                        
                        <!-- <h4 id="list-item-6">6.	Errors And Possible Solutions</h4> -->
                        <h3 style="text-align: left;">6. Errors And Possible Solutions</h3>
                        
                        <ul style="margin-left: auto; width: 93%;">
                           <li class="content-text"><b>Service pack is not getting uploaded</b>: replicate it in package manager and then use Activation tree from author instance to achieve the same.</li>
                           <li class="content-text"><b>Bundle is not getting uploaded</b>: Try force upload of snapshot of your project from packageManager(zip) or upload extracted snapshot from Felix console (do not forget to check start bundle) or (least recommended) change the port of your project’s pom.xml file to 4506 from 4503 and do single package.</li>
                           <li class="content-text"><b>Socket Error</b>: Recheck your IP address in Allowed Clients section.</li>
                           <li class="content-text"><b>Null Pointer Exception</b>: Agents on Author, Publish Queue might not be idle.</li>
                           <li class="content-text"><b>Problem in triggering the jar of publish instance</b>: rename the quickstart file to crx-quickstart-old. Abort the starting process of from command prompt and rerun java -jar cq-publish-4506.jar. You will find a new quickstart file now which gets generated with respective script.</li>
                        </ul>
                        <br>
                        <p>I hope you find this blog informative, please share and for more blogs please surf our website.</p>
                           <p>Thank you</p>                                              
                        
                     </div>
                  </div>
               </div>
            </div>
            <hr style="margin-top: 30px;">
            <div class="author-details">
               <div id="like-icon" class="like-icon">
                  <span id="like-count" class="like-count">0</span>
                  <span id="like-btn" class="like-btn">
                  <img src="/images/clap.webp" alt="Like">
                  </span>
               </div>
               <div>
                  <span class="author-name">Shruti Meshram | </span>
                  <span class="author-designation">AEM Developer</span>
               </div>
            </div>
            <div style="display: flex; justify-content: center;">
               <div class="comment-box" >
                  <h3> Leave a Comment</h3>
                  <form class="comment-form">
                     <input type="text" placeholder="Enter Name"/>
                     <input type="email" placeholder="Enter Email"/>
                     <textarea  rows="5" placeholder="Your Comments"></textarea>
                     <button type="submit" class="hero-btn red-btn">Your Comment</button>
                  </form>
               </div>
            </div>
         </div>
		</div>
	</section>

<div class="social-icons">
	 
	<a href="https://www.linkedin.com/company/infodales-tech-solution/" class="linkedin"><img src="/images/linkedin.webp" alt="LinkedIn"></a>
	<a href="mailto:info@infodales.com" class="email"><img src="/images/email.webp" alt="Email"></a>
</div>

	<!--  Footer --->
	<div class="copyright-area">
		<div class="footer">
			<div class="row" style="margin-top: 0px;">
				<div class="col-xl-4 col-lg-4 text-center text-lg-left">
					<div class="copyright-text">
						<p>Copyright &copy; 2023, All Right Reserved <a href="/index.html">Infodales Tech
								Solution</a></p>
					</div>
				</div>
				
				<div class="col-xl-4 col-lg-4 d-none d-lg-block text-right">
					<div class="footer-menu" style="margin-top:10px;">
						<ul>
							<li><a href="/index.html">Home</a></li>
							<li><a href="/about.html">About</a></li>
							<li><a href="/contact.html">Contact</a></li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</div>


	<!--- Java Script-->
	<script>
		var navLinks = document.getElementById("navLinks");

		function showMenu() {
			navLinks.style.right = "0";
		}

		function hideMenu() {
			navLinks.style.right = "-200px";
		}

		document.addEventListener("DOMContentLoaded", () => {
    const likeBtn = document.getElementById('like-btn');
    const likeCount = document.getElementById('like-count');

    let count = parseInt(localStorage.getItem('clapCount')) || 0;
    likeCount.textContent = count;

    likeBtn.addEventListener('click', () => {
        count++;
        likeCount.textContent = count;
        localStorage.setItem('clapCount', count);

        const likeAnimation = document.createElement('div');
        likeAnimation.classList.add('like-animation');
        likeAnimation.innerHTML = '🎉';
        document.getElementById('like-icon').appendChild(likeAnimation);
        likeAnimation.addEventListener('animationend', () => {
            likeAnimation.remove();
        });
    });
});

		// function relatedFilter() {
		// 	var retString = localStorage.getItem("allBlogs");
		// 	console.log(retString);
		// }


	</script>

</body>

</html>